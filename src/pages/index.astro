---
import Layout from "../layouts/layout.astro"
import clientData  from '../config/clientData.json'
import { supabase } from "../lib/supabase";


// funciones
// Importa la funci√≥n
import { getCatalogosFromSupabase } from "../config/servicesSupabase/catalogoSupabase"
import { getTiendasFromSupabase } from "../config/servicesSupabase/getTiendas"
//components
import Covercomp from "../components/landing/Cover.astro"
import CardContact from "../components/pages/CardContact.astro";
import Catalogo from "../components/Catalogo.astro"
// import listaTiendas from "../config/listaTiendas.json"  This weas a file Json created  to create  the fucntionaliti before to coneect to data base
import Stack from "../components/landing/Stack.astro";

import HeroCarousel from "../components/landing/HeroCarousel.astro"
import About2Title from "../components/icons/About2_title.astro";
import About from "../components/landing/About.astro";

const tiendasPromise = getTiendasFromSupabase();
const tiendas = await tiendasPromise; // Esperar a que se resuelva la promesa
// console.log("TIENDAS FROM SUPABASE", tiendas);
  
const catalogoPromise = getCatalogosFromSupabase();  
const catalogo = await catalogoPromise;   
// console.log("CATALOGOS FROM SUPABASE", catalogo);  
---

<Layout title={clientData.web_name} subtitle={clientData.subtitle}>
    <!-- <Covercomp imgMobil="/cover.jpg" imgPc="/cover.jpg"></Covercomp> -->
    <HeroCarousel></HeroCarousel>
    <About></About>    
    <!-- <Stack arrayTiendas={tiendas}></Stack>
    {catalogo.map((cat, index) => (
        <Catalogo key={index} arrayProductos={cat.product} sectionTitle={cat.titulo}></Catalogo>
    ))}
    <CardContact></CardContact> -->
</Layout>
